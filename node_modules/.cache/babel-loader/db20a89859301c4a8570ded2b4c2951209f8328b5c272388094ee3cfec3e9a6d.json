{"ast":null,"code":"var _jsxFileName = \"/Users/almiskea/ipro/saytech-frontend/src/components/common/Select/Select.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef, useEffect } from 'react';\nimport { useLanguage, SelectContext } from '../../../App';\nimport SelectContent from './SelectContent';\nimport SelectItem from './SelectItem';\nimport SelectTrigger from './SelectTrigger';\nimport SelectValue from './SelectValue';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Select = ({\n  children,\n  onValueChange,\n  value: controlledValue\n}) => {\n  _s();\n  const [isOpen, setIsOpen] = useState(false);\n  const [selectedValue, setSelectedValue] = useState(controlledValue || '');\n  const [displayValue, setDisplayValue] = useState('');\n  const selectRef = useRef(null);\n  const {\n    language\n  } = useLanguage();\n  useEffect(() => {\n    if (controlledValue !== undefined) {\n      setSelectedValue(controlledValue);\n    }\n  }, [controlledValue]);\n  useEffect(() => {\n    let foundDisplay = '';\n    React.Children.forEach(children, child => {\n      if (child.type === SelectContent) {\n        React.Children.forEach(child.props.children, item => {\n          if (item.type === SelectItem && item.props.value === selectedValue) {\n            foundDisplay = item.props.children;\n          }\n        });\n      }\n    });\n    if (foundDisplay) {\n      setDisplayValue(foundDisplay);\n    } else {\n      React.Children.forEach(children, child => {\n        if (child.type === SelectTrigger) {\n          React.Children.forEach(child.props.children, triggerChild => {\n            if (triggerChild.type === SelectValue) {\n              setDisplayValue(triggerChild.props.placeholder);\n            }\n          });\n        }\n      });\n    }\n  }, [selectedValue, children, language]);\n  const handleSelect = (val, display) => {\n    setSelectedValue(val);\n    if (onValueChange) {\n      onValueChange(val);\n    }\n    setIsOpen(false);\n  };\n  useEffect(() => {\n    const handleClickOutside = event => {\n      if (selectRef.current && !selectRef.current.contains(event.target)) {\n        setIsOpen(false);\n      }\n    };\n    document.addEventListener(\"mousedown\", handleClickOutside);\n    return () => document.removeEventListener(\"mousedown\", handleClickOutside);\n  }, []);\n  return /*#__PURE__*/_jsxDEV(SelectContext.Provider, {\n    value: {\n      isOpen,\n      setIsOpen,\n      selectedValue,\n      handleSelect,\n      displayValue,\n      language\n    },\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"relative\",\n      ref: selectRef,\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 66,\n    columnNumber: 9\n  }, this);\n};\n_s(Select, \"vMPL/BNwOTasClSrB3D0NK9A1Zw=\", false, function () {\n  return [useLanguage];\n});\n_c = Select;\nexport default Select;\nvar _c;\n$RefreshReg$(_c, \"Select\");","map":{"version":3,"names":["React","useState","useRef","useEffect","useLanguage","SelectContext","SelectContent","SelectItem","SelectTrigger","SelectValue","jsxDEV","_jsxDEV","Select","children","onValueChange","value","controlledValue","_s","isOpen","setIsOpen","selectedValue","setSelectedValue","displayValue","setDisplayValue","selectRef","language","undefined","foundDisplay","Children","forEach","child","type","props","item","triggerChild","placeholder","handleSelect","val","display","handleClickOutside","event","current","contains","target","document","addEventListener","removeEventListener","Provider","className","ref","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/almiskea/ipro/saytech-frontend/src/components/common/Select/Select.jsx"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\nimport { useLanguage, SelectContext } from '../../../App'\nimport SelectContent from './SelectContent';\nimport SelectItem from './SelectItem';\nimport SelectTrigger from './SelectTrigger';\nimport SelectValue from './SelectValue';\n\nconst Select = ({ children, onValueChange, value: controlledValue }) => {\n    const [isOpen, setIsOpen] = useState(false);\n    const [selectedValue, setSelectedValue] = useState(controlledValue || '');\n    const [displayValue, setDisplayValue] = useState('');\n    const selectRef = useRef(null);\n    const { language } = useLanguage();\n\n    useEffect(() => {\n        if (controlledValue !== undefined) {\n            setSelectedValue(controlledValue);\n        }\n    }, [controlledValue]);\n    \n    useEffect(() => {\n        let foundDisplay = '';\n        React.Children.forEach(children, child => {\n            if (child.type === SelectContent) {\n                React.Children.forEach(child.props.children, item => {\n                    if (item.type === SelectItem && item.props.value === selectedValue) {\n                        foundDisplay = item.props.children; \n                    }\n                });\n            }\n        });\n        if (foundDisplay) {\n            setDisplayValue(foundDisplay);\n        } else { \n             React.Children.forEach(children, child => {\n                if (child.type === SelectTrigger) {\n                     React.Children.forEach(child.props.children, triggerChild => {\n                        if (triggerChild.type === SelectValue) {\n                            setDisplayValue(triggerChild.props.placeholder);\n                        }\n                    });\n                }\n            });\n        }\n    }, [selectedValue, children, language]);\n\n    const handleSelect = (val, display) => {\n        setSelectedValue(val);\n        if (onValueChange) {\n            onValueChange(val);\n        }\n        setIsOpen(false);\n    };\n\n    useEffect(() => {\n        const handleClickOutside = (event) => {\n            if (selectRef.current && !selectRef.current.contains(event.target)) {\n                setIsOpen(false);\n            }\n        };\n        document.addEventListener(\"mousedown\", handleClickOutside);\n        return () => document.removeEventListener(\"mousedown\", handleClickOutside);\n    }, []);\n\n    return (\n        <SelectContext.Provider value={{ isOpen, setIsOpen, selectedValue, handleSelect, displayValue, language }}>\n            <div className=\"relative\" ref={selectRef}>{children}</div>\n        </SelectContext.Provider>\n    );\n};\n\nexport default Select;"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,MAAM,EAAEC,SAAS,QAAQ,OAAO;AAC1D,SAASC,WAAW,EAAEC,aAAa,QAAQ,cAAc;AACzD,OAAOC,aAAa,MAAM,iBAAiB;AAC3C,OAAOC,UAAU,MAAM,cAAc;AACrC,OAAOC,aAAa,MAAM,iBAAiB;AAC3C,OAAOC,WAAW,MAAM,eAAe;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAExC,MAAMC,MAAM,GAAGA,CAAC;EAAEC,QAAQ;EAAEC,aAAa;EAAEC,KAAK,EAAEC;AAAgB,CAAC,KAAK;EAAAC,EAAA;EACpE,MAAM,CAACC,MAAM,EAAEC,SAAS,CAAC,GAAGlB,QAAQ,CAAC,KAAK,CAAC;EAC3C,MAAM,CAACmB,aAAa,EAAEC,gBAAgB,CAAC,GAAGpB,QAAQ,CAACe,eAAe,IAAI,EAAE,CAAC;EACzE,MAAM,CAACM,YAAY,EAAEC,eAAe,CAAC,GAAGtB,QAAQ,CAAC,EAAE,CAAC;EACpD,MAAMuB,SAAS,GAAGtB,MAAM,CAAC,IAAI,CAAC;EAC9B,MAAM;IAAEuB;EAAS,CAAC,GAAGrB,WAAW,CAAC,CAAC;EAElCD,SAAS,CAAC,MAAM;IACZ,IAAIa,eAAe,KAAKU,SAAS,EAAE;MAC/BL,gBAAgB,CAACL,eAAe,CAAC;IACrC;EACJ,CAAC,EAAE,CAACA,eAAe,CAAC,CAAC;EAErBb,SAAS,CAAC,MAAM;IACZ,IAAIwB,YAAY,GAAG,EAAE;IACrB3B,KAAK,CAAC4B,QAAQ,CAACC,OAAO,CAAChB,QAAQ,EAAEiB,KAAK,IAAI;MACtC,IAAIA,KAAK,CAACC,IAAI,KAAKzB,aAAa,EAAE;QAC9BN,KAAK,CAAC4B,QAAQ,CAACC,OAAO,CAACC,KAAK,CAACE,KAAK,CAACnB,QAAQ,EAAEoB,IAAI,IAAI;UACjD,IAAIA,IAAI,CAACF,IAAI,KAAKxB,UAAU,IAAI0B,IAAI,CAACD,KAAK,CAACjB,KAAK,KAAKK,aAAa,EAAE;YAChEO,YAAY,GAAGM,IAAI,CAACD,KAAK,CAACnB,QAAQ;UACtC;QACJ,CAAC,CAAC;MACN;IACJ,CAAC,CAAC;IACF,IAAIc,YAAY,EAAE;MACdJ,eAAe,CAACI,YAAY,CAAC;IACjC,CAAC,MAAM;MACF3B,KAAK,CAAC4B,QAAQ,CAACC,OAAO,CAAChB,QAAQ,EAAEiB,KAAK,IAAI;QACvC,IAAIA,KAAK,CAACC,IAAI,KAAKvB,aAAa,EAAE;UAC7BR,KAAK,CAAC4B,QAAQ,CAACC,OAAO,CAACC,KAAK,CAACE,KAAK,CAACnB,QAAQ,EAAEqB,YAAY,IAAI;YAC1D,IAAIA,YAAY,CAACH,IAAI,KAAKtB,WAAW,EAAE;cACnCc,eAAe,CAACW,YAAY,CAACF,KAAK,CAACG,WAAW,CAAC;YACnD;UACJ,CAAC,CAAC;QACN;MACJ,CAAC,CAAC;IACN;EACJ,CAAC,EAAE,CAACf,aAAa,EAAEP,QAAQ,EAAEY,QAAQ,CAAC,CAAC;EAEvC,MAAMW,YAAY,GAAGA,CAACC,GAAG,EAAEC,OAAO,KAAK;IACnCjB,gBAAgB,CAACgB,GAAG,CAAC;IACrB,IAAIvB,aAAa,EAAE;MACfA,aAAa,CAACuB,GAAG,CAAC;IACtB;IACAlB,SAAS,CAAC,KAAK,CAAC;EACpB,CAAC;EAEDhB,SAAS,CAAC,MAAM;IACZ,MAAMoC,kBAAkB,GAAIC,KAAK,IAAK;MAClC,IAAIhB,SAAS,CAACiB,OAAO,IAAI,CAACjB,SAAS,CAACiB,OAAO,CAACC,QAAQ,CAACF,KAAK,CAACG,MAAM,CAAC,EAAE;QAChExB,SAAS,CAAC,KAAK,CAAC;MACpB;IACJ,CAAC;IACDyB,QAAQ,CAACC,gBAAgB,CAAC,WAAW,EAAEN,kBAAkB,CAAC;IAC1D,OAAO,MAAMK,QAAQ,CAACE,mBAAmB,CAAC,WAAW,EAAEP,kBAAkB,CAAC;EAC9E,CAAC,EAAE,EAAE,CAAC;EAEN,oBACI5B,OAAA,CAACN,aAAa,CAAC0C,QAAQ;IAAChC,KAAK,EAAE;MAAEG,MAAM;MAAEC,SAAS;MAAEC,aAAa;MAAEgB,YAAY;MAAEd,YAAY;MAAEG;IAAS,CAAE;IAAAZ,QAAA,eACtGF,OAAA;MAAKqC,SAAS,EAAC,UAAU;MAACC,GAAG,EAAEzB,SAAU;MAAAX,QAAA,EAAEA;IAAQ;MAAAqC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAM;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACtC,CAAC;AAEjC,CAAC;AAACpC,EAAA,CA9DIL,MAAM;EAAA,QAKaR,WAAW;AAAA;AAAAkD,EAAA,GAL9B1C,MAAM;AAgEZ,eAAeA,MAAM;AAAC,IAAA0C,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}