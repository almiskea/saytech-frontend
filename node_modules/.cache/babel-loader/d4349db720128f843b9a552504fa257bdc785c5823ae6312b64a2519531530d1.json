{"ast":null,"code":"var _jsxFileName = \"/Users/almiskea/ipro/saytech-frontend/src/components/pages/RequestFormPage.jsx\",\n  _s = $RefreshSig$();\nimport { useLanguage } from '../../App';\nimport { useState } from 'react';\nimport { motion } from 'framer-motion';\nimport { Card, CardHeader, CardTitle, CardDescription, CardContent } from '../common/ui-utils';\nimport { Input } from '../common/ui-utils';\nimport { Label } from '../common/ui-utils';\nimport { Textarea } from '../common/ui-utils';\nimport { Button } from '../common/ui-utils';\nimport { Alert, AlertTitle, AlertDescription } from '../common/ui-utils';\nimport api from '../../services/api';\nimport Select from '../common/Select/Select';\nimport SelectTrigger from '../common/Select/SelectTrigger';\nimport SelectValue from '../common/Select/SelectValue';\nimport SelectContent from '../common/Select/SelectContent';\nimport SelectItem from '../common/Select/SelectItem';\nimport { Loader2 } from 'lucide-react';\nimport { AnimatePresence } from 'framer-motion';\nimport Message from '../common/Message';\nimport { CheckCircle } from 'lucide-react';\nimport { cn } from '../../utils/helpers';\nimport PaymentModal from '../common/PaymentModel';\nimport { CreditCard } from 'lucide-react';\nimport AgreementModal from '../common/AgreementModel';\nimport { UploadCloud } from 'lucide-react';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst MOCK_SERVICE_FEE = 150; // Example service fee in SAR\n\nconst RequestFormPage = ({\n  navigateTo\n}) => {\n  _s();\n  const {\n    t,\n    language\n  } = useLanguage();\n  const [currentStep, setCurrentStep] = useState('details');\n  const [formData, setFormData] = useState({\n    fullName: '',\n    countryCode: '+966',\n    localPhoneNumber: '',\n    email: '',\n    city: '',\n    region: '',\n    phoneModel: '',\n    previouslyRepaired: '',\n    deviceCondition: '',\n    issueDescription: '',\n    deviceImage: null,\n    paymentMethod: ''\n  });\n  const [isAgreementChecked, setIsAgreementChecked] = useState(false);\n  const [isAgreementModalOpen, setIsAgreementModalOpen] = useState(false);\n  const [formMessage, setFormMessage] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [fileName, setFileName] = useState('');\n  const [isPaymentModalOpen, setIsPaymentModalOpen] = useState(false);\n  const [finalSubmissionInfo, setFinalSubmissionInfo] = useState(null);\n  const countryCodes = [{\n    value: '+966',\n    label: 'ðŸ‡¸ðŸ‡¦ +966 (KSA)'\n  }, {\n    value: '+971',\n    label: 'ðŸ‡¦ðŸ‡ª +971 (UAE)'\n  }, {\n    value: '+974',\n    label: 'ðŸ‡¶ðŸ‡¦ +974 (Qatar)'\n  }, {\n    value: '+973',\n    label: 'ðŸ‡§ðŸ‡­ +973 (Bahrain)'\n  }, {\n    value: '+968',\n    label: 'ðŸ‡´ðŸ‡² +968 (Oman)'\n  }, {\n    value: '+965',\n    label: 'ðŸ‡°ðŸ‡¼ +965 (Kuwait)'\n  }];\n  const phoneModels = [{\n    value: 'iPhone X',\n    label: 'iPhone X / XR / XS'\n  }, {\n    value: 'iPhone 11',\n    label: 'iPhone 11 / Pro / Max'\n  }, {\n    value: 'iPhone 12',\n    label: 'iPhone 12 / Mini / Pro / Max'\n  }, {\n    value: 'iPhone 13',\n    label: 'iPhone 13 / Mini / Pro / Max'\n  }, {\n    value: 'iPhone 14',\n    label: 'iPhone 14 / Plus / Pro / Max'\n  }, {\n    value: 'iPhone 15',\n    label: 'iPhone 15 / Plus / Pro / Max'\n  }, {\n    value: 'iPhone SE (2nd Gen)',\n    label: 'iPhone SE (2nd Gen)'\n  }, {\n    value: 'iPhone SE (3rd Gen)',\n    label: 'iPhone SE (3rd Gen)'\n  }, {\n    value: 'Other',\n    label: 'Other iPhone Model'\n  }];\n  const deviceConditions = [{\n    value: 'fell_in_water',\n    labelKey: 'conditionFellInWater'\n  }, {\n    value: 'physical_damage',\n    labelKey: 'conditionPhysicalDamage'\n  }, {\n    value: 'no_power',\n    labelKey: 'conditionNoPower'\n  }, {\n    value: 'screen_issue',\n    labelKey: 'conditionScreenIssue'\n  }, {\n    value: 'battery_issue',\n    labelKey: 'conditionBatteryIssue'\n  }, {\n    value: 'software_issue',\n    labelKey: 'conditionSoftwareIssue'\n  }, {\n    value: 'other',\n    labelKey: 'conditionOther'\n  }];\n  const handleChange = e => {\n    const {\n      name,\n      value,\n      files\n    } = e.target;\n    if (name === \"deviceImage\") {\n      setFormData(prev => ({\n        ...prev,\n        [name]: files ? files[0] : null\n      }));\n      setFileName(files && files[0] ? files[0].name : \"\");\n    } else {\n      setFormData(prev => ({\n        ...prev,\n        [name]: value\n      }));\n    }\n  };\n  const handleSelectChange = (name, value) => {\n    setFormData(prev => ({\n      ...prev,\n      [name]: value\n    }));\n  };\n  const handleProceedToPayment = async e => {\n    e.preventDefault();\n    setLoading(true);\n    setFormMessage(null);\n    if (!isAgreementChecked) {\n      setFormMessage({\n        type: 'error',\n        title: t('errorAgreementRequiredTitle'),\n        text: t('errorAgreementRequiredText')\n      });\n      setLoading(false);\n      return;\n    }\n    const requiredFields = ['fullName', 'countryCode', 'localPhoneNumber', 'email', 'city', 'region', 'phoneModel', 'previouslyRepaired', 'deviceCondition', 'issueDescription', 'deviceImage', 'paymentMethod'];\n    for (const field of requiredFields) {\n      if (!formData[field]) {\n        setFormMessage({\n          type: 'error',\n          title: t('errorMissingInfoTitle'),\n          text: t('errorMissingInfoText')\n        });\n        setLoading(false);\n        return;\n      }\n    }\n    if (!/\\S+@\\S+\\.\\S+/.test(formData.email)) {\n      setFormMessage({\n        type: 'error',\n        title: t('errorInvalidEmailTitle'),\n        text: t('errorInvalidEmailText')\n      });\n      setLoading(false);\n      return;\n    }\n    if (!/^\\d{7,15}$/.test(formData.localPhoneNumber)) {\n      setFormMessage({\n        type: 'error',\n        title: t('errorInvalidPhoneTitle'),\n        text: t('errorInvalidPhoneText')\n      });\n      setLoading(false);\n      return;\n    }\n    setLoading(false);\n    setCurrentStep('payment');\n    setIsPaymentModalOpen(true);\n  };\n  const handlePaymentSubmit = async paymentCardDetails => {\n    try {\n      const fullPhoneNumber = formData.countryCode + formData.localPhoneNumber;\n      const paymentResult = await api.processPayment({\n        amount: MOCK_SERVICE_FEE,\n        paymentMethodType: formData.paymentMethod,\n        paymentDetails: formData.paymentMethod === 'creditCard' ? paymentCardDetails : null\n      });\n      if (paymentResult.success) {\n        const serviceRequestData = {\n          ...formData,\n          fullPhoneNumber: fullPhoneNumber,\n          transactionId: paymentResult.transactionId,\n          deviceImageName: formData.deviceImage ? formData.deviceImage.name : null\n        };\n        delete serviceRequestData.countryCode;\n        delete serviceRequestData.localPhoneNumber;\n        delete serviceRequestData.deviceImage;\n        const requestResponse = await api.submitRequest(serviceRequestData);\n        setFinalSubmissionInfo({\n          ...requestResponse,\n          transactionId: paymentResult.transactionId,\n          phoneNumber: fullPhoneNumber\n        });\n        setCurrentStep('submitted');\n        setIsPaymentModalOpen(false);\n        setFormData({\n          fullName: '',\n          countryCode: '+966',\n          localPhoneNumber: '',\n          email: '',\n          city: '',\n          region: '',\n          phoneModel: '',\n          previouslyRepaired: '',\n          deviceCondition: '',\n          issueDescription: '',\n          deviceImage: null,\n          paymentMethod: ''\n        });\n        setFileName('');\n        setIsAgreementChecked(false); // Reset agreement checkbox\n        return {\n          success: true,\n          messageKey: paymentResult.messageKey\n        };\n      } else {\n        return {\n          success: false,\n          messageKey: paymentResult.messageKey\n        };\n      }\n    } catch (error) {\n      setFormMessage({\n        type: 'error',\n        title: t('submissionFailedTitle'),\n        text: error.message || t('submissionFailedText')\n      });\n      setIsPaymentModalOpen(false);\n      setCurrentStep('details');\n      return {\n        success: false,\n        messageKey: 'submissionFailedText'\n      };\n    }\n  };\n  const requiredStar = /*#__PURE__*/_jsxDEV(\"span\", {\n    className: \"text-red-500\",\n    children: t('requiredFieldIndicator')\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 184,\n    columnNumber: 26\n  }, this);\n  if (currentStep === 'submitted' && finalSubmissionInfo) {\n    return /*#__PURE__*/_jsxDEV(motion.div, {\n      initial: {\n        opacity: 0\n      },\n      animate: {\n        opacity: 1\n      },\n      className: \"max-w-2xl mx-auto text-center\",\n      children: [/*#__PURE__*/_jsxDEV(Message, {\n        type: \"success\",\n        title: t('requestSubmittedTitle'),\n        message: t('requestSubmittedText')\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 18\n      }, this), /*#__PURE__*/_jsxDEV(Alert, {\n        variant: \"success\",\n        className: \"mt-6 text-left\",\n        children: [/*#__PURE__*/_jsxDEV(CheckCircle, {\n          className: \"h-5 w-5\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(AlertTitle, {\n          children: t('importantSaveInfoTitle')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(AlertDescription, {\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"mb-2\",\n            children: t('importantSaveInfoText')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 194,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n            className: cn(\"list-inside space-y-1 bg-green-100 p-3 rounded-md\", language === 'ar' ? 'list-disc text-right' : 'list-disc text-left'),\n            children: [/*#__PURE__*/_jsxDEV(\"li\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: t('requestIdLabel')\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 196,\n                columnNumber: 33\n              }, this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"font-mono text-green-700\",\n                children: finalSubmissionInfo.requestId\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 196,\n                columnNumber: 72\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 196,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: t('verificationCodeLabel')\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 197,\n                columnNumber: 33\n              }, this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"font-mono text-green-700\",\n                children: finalSubmissionInfo.verificationCode\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 197,\n                columnNumber: 79\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 197,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: t('transactionIdLabel')\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 198,\n                columnNumber: 33\n              }, this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"font-mono text-green-700\",\n                children: finalSubmissionInfo.transactionId\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 198,\n                columnNumber: 76\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 198,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 195,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"mt-3\",\n            children: t('contactWhatsAppText', {\n              phoneNumber: finalSubmissionInfo.phoneNumber\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 200,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"outline\",\n            size: \"sm\",\n            className: \"mt-4\",\n            onClick: () => navigateTo('status'),\n            children: t('checkStatusNowButton')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 201,\n            columnNumber: 26\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 18\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 13\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(motion.div, {\n    initial: {\n      opacity: 0,\n      x: language === 'ar' ? 20 : -20\n    },\n    animate: {\n      opacity: 1,\n      x: 0\n    },\n    transition: {\n      duration: 0.5\n    },\n    className: \"space-y-8 max-w-2xl mx-auto\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-center\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-3xl font-bold text-gray-900\",\n        children: t('requestServiceTitle')\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-gray-600 mt-2\",\n        children: t('requestServiceSubtitle')\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 217,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 215,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Card, {\n      className: \"shadow-xl\",\n      children: [/*#__PURE__*/_jsxDEV(CardHeader, {\n        children: [/*#__PURE__*/_jsxDEV(CardTitle, {\n          children: t('yourInformationTitle')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 222,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(CardDescription, {\n          children: t('yourInformationDescription')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 223,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(CardContent, {\n        children: /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleProceedToPayment,\n          className: \"space-y-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid grid-cols-1 md:grid-cols-2 gap-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(Label, {\n                htmlFor: \"fullName\",\n                children: [t('fullNameLabel'), \" \", requiredStar]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 230,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(Input, {\n                id: \"fullName\",\n                name: \"fullName\",\n                value: formData.fullName,\n                onChange: handleChange,\n                placeholder: t('fullNamePlaceholder'),\n                required: true,\n                className: \"mt-1\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 231,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 229,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(Label, {\n                htmlFor: \"email\",\n                children: [t('emailLabel'), \" \", requiredStar]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 234,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(Input, {\n                id: \"email\",\n                name: \"email\",\n                type: \"email\",\n                value: formData.email,\n                onChange: handleChange,\n                placeholder: t('emailPlaceholder'),\n                required: true,\n                className: \"mt-1\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 235,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 233,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 228,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid grid-cols-1 md:grid-cols-3 gap-4 items-end\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"md:col-span-1\",\n              children: [/*#__PURE__*/_jsxDEV(Label, {\n                htmlFor: \"countryCode\",\n                children: [t('countryCodeLabel'), \" \", requiredStar]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 241,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(Select, {\n                onValueChange: value => handleSelectChange('countryCode', value),\n                value: formData.countryCode,\n                children: [/*#__PURE__*/_jsxDEV(SelectTrigger, {\n                  className: \"mt-1 w-full\",\n                  children: /*#__PURE__*/_jsxDEV(SelectValue, {\n                    placeholder: t('countryCodePlaceholder')\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 244,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 243,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(SelectContent, {\n                  children: countryCodes.map(code => /*#__PURE__*/_jsxDEV(SelectItem, {\n                    value: code.value,\n                    children: code.label\n                  }, code.value, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 248,\n                    columnNumber: 45\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 246,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 242,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 240,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"md:col-span-2\",\n              children: [/*#__PURE__*/_jsxDEV(Label, {\n                htmlFor: \"localPhoneNumber\",\n                children: [t('localPhoneNumberLabel'), \" \", requiredStar]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 254,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(Input, {\n                id: \"localPhoneNumber\",\n                name: \"localPhoneNumber\",\n                value: formData.localPhoneNumber,\n                onChange: handleChange,\n                placeholder: t('localPhoneNumberPlaceholder'),\n                required: true,\n                className: \"mt-1\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 255,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 253,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 239,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid grid-cols-1 md:grid-cols-2 gap-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(Label, {\n                htmlFor: \"city\",\n                children: [t('cityLabel'), \" \", requiredStar]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 261,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(Input, {\n                id: \"city\",\n                name: \"city\",\n                value: formData.city,\n                onChange: handleChange,\n                placeholder: t('cityPlaceholder'),\n                required: true,\n                className: \"mt-1\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 262,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 260,\n              columnNumber: 30\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(Label, {\n                htmlFor: \"region\",\n                children: [t('regionLabel'), \" \", requiredStar]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 265,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(Input, {\n                id: \"region\",\n                name: \"region\",\n                value: formData.region,\n                onChange: handleChange,\n                placeholder: t('regionPlaceholder'),\n                required: true,\n                className: \"mt-1\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 266,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 264,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 259,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"pt-4 border-t mt-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-lg font-medium text-gray-800 mb-4\",\n              children: [t('phoneModelLabel'), \" & \", t('deviceConditionLabel')]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 272,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-6\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(Label, {\n                  htmlFor: \"phoneModel\",\n                  children: [t('phoneModelLabel'), \" \", requiredStar]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 275,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(Select, {\n                  onValueChange: value => handleSelectChange('phoneModel', value),\n                  value: formData.phoneModel,\n                  children: [/*#__PURE__*/_jsxDEV(SelectTrigger, {\n                    className: \"mt-1 w-full\",\n                    children: /*#__PURE__*/_jsxDEV(SelectValue, {\n                      placeholder: t('phoneModelSelectPlaceholder')\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 278,\n                      columnNumber: 45\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 277,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(SelectContent, {\n                    children: phoneModels.map(model => /*#__PURE__*/_jsxDEV(SelectItem, {\n                      value: model.value,\n                      children: model.label\n                    }, model.value, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 282,\n                      columnNumber: 49\n                    }, this))\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 280,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 276,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 274,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(Label, {\n                  htmlFor: \"previouslyRepaired\",\n                  children: [t('previouslyRepairedLabel'), \" \", requiredStar]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 288,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(Select, {\n                  onValueChange: value => handleSelectChange('previouslyRepaired', value),\n                  value: formData.previouslyRepaired,\n                  children: [/*#__PURE__*/_jsxDEV(SelectTrigger, {\n                    className: \"mt-1 w-full\",\n                    children: /*#__PURE__*/_jsxDEV(SelectValue, {\n                      placeholder: t('previouslyRepairedPlaceholder')\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 291,\n                      columnNumber: 45\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 290,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(SelectContent, {\n                    children: [/*#__PURE__*/_jsxDEV(SelectItem, {\n                      value: \"no\",\n                      children: t('noOption')\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 294,\n                      columnNumber: 45\n                    }, this), /*#__PURE__*/_jsxDEV(SelectItem, {\n                      value: \"yes\",\n                      children: t('yesOption')\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 295,\n                      columnNumber: 45\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 293,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 289,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 287,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(Label, {\n                  htmlFor: \"deviceCondition\",\n                  children: [t('deviceConditionLabel'), \" \", requiredStar]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 300,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(Select, {\n                  onValueChange: value => handleSelectChange('deviceCondition', value),\n                  value: formData.deviceCondition,\n                  children: [/*#__PURE__*/_jsxDEV(SelectTrigger, {\n                    className: \"mt-1 w-full\",\n                    children: /*#__PURE__*/_jsxDEV(SelectValue, {\n                      placeholder: t('deviceConditionPlaceholder')\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 303,\n                      columnNumber: 45\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 302,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(SelectContent, {\n                    children: deviceConditions.map(condition => /*#__PURE__*/_jsxDEV(SelectItem, {\n                      value: condition.value,\n                      children: t(condition.labelKey)\n                    }, condition.value, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 307,\n                      columnNumber: 49\n                    }, this))\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 305,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 301,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 299,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 273,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 271,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(Label, {\n              htmlFor: \"issueDescription\",\n              children: [t('issueDescriptionLabel'), \" \", requiredStar]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 316,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Textarea, {\n              id: \"issueDescription\",\n              name: \"issueDescription\",\n              value: formData.issueDescription,\n              onChange: handleChange,\n              placeholder: t('issueDescriptionPlaceholder'),\n              required: true,\n              className: \"mt-1\",\n              rows: 4\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 317,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 315,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(Label, {\n              htmlFor: \"deviceImage\",\n              className: \"flex items-center gap-2\",\n              children: [/*#__PURE__*/_jsxDEV(UploadCloud, {\n                className: \"w-5 h-5 text-gray-500\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 322,\n                columnNumber: 33\n              }, this), t('deviceImageLabel'), \" \", requiredStar]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 321,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Input, {\n              id: \"deviceImage\",\n              name: \"deviceImage\",\n              type: \"file\",\n              accept: \"image/*\",\n              onChange: handleChange,\n              required: true,\n              className: \"mt-1 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 325,\n              columnNumber: 29\n            }, this), fileName && /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-xs text-gray-500 mt-1\",\n              children: [t('fileNameLabel'), \" \", fileName]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 334,\n              columnNumber: 42\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 320,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"pt-4 border-t mt-6\",\n            children: [/*#__PURE__*/_jsxDEV(Label, {\n              htmlFor: \"paymentMethod\",\n              children: [t('paymentMethodLabel'), \" \", requiredStar]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 340,\n              columnNumber: 30\n            }, this), /*#__PURE__*/_jsxDEV(Select, {\n              onValueChange: value => handleSelectChange('paymentMethod', value),\n              value: formData.paymentMethod,\n              children: [/*#__PURE__*/_jsxDEV(SelectTrigger, {\n                className: \"mt-1 w-full\",\n                children: /*#__PURE__*/_jsxDEV(SelectValue, {\n                  placeholder: t('paymentMethodPlaceholder')\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 343,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 342,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(SelectContent, {\n                children: [/*#__PURE__*/_jsxDEV(SelectItem, {\n                  value: \"creditCard\",\n                  children: t('paymentCreditCard')\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 346,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(SelectItem, {\n                  value: \"mada\",\n                  children: t('paymentMada')\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 347,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(SelectItem, {\n                  value: \"stcpay\",\n                  children: t('paymentSTCPay')\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 348,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(SelectItem, {\n                  value: \"applePay\",\n                  children: t('paymentApplePay')\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 349,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 345,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 341,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 339,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: cn(\"flex items-start mt-6 pt-6 border-t\", language === 'ar' ? 'space-x-reverse space-x-2' : 'space-x-2'),\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"checkbox\",\n              id: \"agreement\",\n              checked: isAgreementChecked,\n              onChange: e => setIsAgreementChecked(e.target.checked),\n              className: \"h-5 w-5 text-blue-600 border-gray-300 rounded focus:ring-blue-500 flex-shrink-0\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 356,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Label, {\n              htmlFor: \"agreement\",\n              className: \"text-sm text-gray-700\",\n              children: [t('agreementCheckboxLabel'), ' ', /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                onClick: () => setIsAgreementModalOpen(true),\n                className: \"text-blue-600 hover:underline font-medium\",\n                children: t('viewAgreementLink')\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 365,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 363,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 355,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(AnimatePresence, {\n            children: formMessage && /*#__PURE__*/_jsxDEV(Message, {\n              type: formMessage.type,\n              title: formMessage.title,\n              message: formMessage.text\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 376,\n              columnNumber: 45\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 375,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            type: \"submit\",\n            className: \"w-full text-lg py-3\",\n            disabled: loading || !isAgreementChecked,\n            size: \"lg\",\n            children: loading ? /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(Loader2, {\n                className: cn(\"h-5 w-5 animate-spin\", language === 'ar' ? 'ml-2' : 'mr-2')\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 381,\n                columnNumber: 35\n              }, this), \" \", t('submittingButton')]\n            }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(CreditCard, {\n                className: cn(\"h-5 w-5\", language === 'ar' ? 'ml-2' : 'mr-2')\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 383,\n                columnNumber: 35\n              }, this), \" \", t('proceedToPaymentButton')]\n            }, void 0, true)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 379,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 226,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 220,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(AnimatePresence, {\n      children: [isPaymentModalOpen && /*#__PURE__*/_jsxDEV(PaymentModal, {\n        isOpen: isPaymentModalOpen,\n        onClose: () => {\n          setIsPaymentModalOpen(false);\n          setCurrentStep('details');\n        },\n        amount: MOCK_SERVICE_FEE,\n        onSubmitPayment: handlePaymentSubmit,\n        paymentMethodType: formData.paymentMethod\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 392,\n        columnNumber: 21\n      }, this), isAgreementModalOpen && /*#__PURE__*/_jsxDEV(AgreementModal, {\n        isOpen: isAgreementModalOpen,\n        onClose: () => setIsAgreementModalOpen(false)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 401,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 390,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 209,\n    columnNumber: 9\n  }, this);\n};\n_s(RequestFormPage, \"jEOexJd36NW2hXZDB+BDIt5o9oI=\", false, function () {\n  return [useLanguage];\n});\n_c = RequestFormPage;\nexport default RequestFormPage;\nvar _c;\n$RefreshReg$(_c, \"RequestFormPage\");","map":{"version":3,"names":["useLanguage","useState","motion","Card","CardHeader","CardTitle","CardDescription","CardContent","Input","Label","Textarea","Button","Alert","AlertTitle","AlertDescription","api","Select","SelectTrigger","SelectValue","SelectContent","SelectItem","Loader2","AnimatePresence","Message","CheckCircle","cn","PaymentModal","CreditCard","AgreementModal","UploadCloud","jsxDEV","_jsxDEV","Fragment","_Fragment","MOCK_SERVICE_FEE","RequestFormPage","navigateTo","_s","t","language","currentStep","setCurrentStep","formData","setFormData","fullName","countryCode","localPhoneNumber","email","city","region","phoneModel","previouslyRepaired","deviceCondition","issueDescription","deviceImage","paymentMethod","isAgreementChecked","setIsAgreementChecked","isAgreementModalOpen","setIsAgreementModalOpen","formMessage","setFormMessage","loading","setLoading","fileName","setFileName","isPaymentModalOpen","setIsPaymentModalOpen","finalSubmissionInfo","setFinalSubmissionInfo","countryCodes","value","label","phoneModels","deviceConditions","labelKey","handleChange","e","name","files","target","prev","handleSelectChange","handleProceedToPayment","preventDefault","type","title","text","requiredFields","field","test","handlePaymentSubmit","paymentCardDetails","fullPhoneNumber","paymentResult","processPayment","amount","paymentMethodType","paymentDetails","success","serviceRequestData","transactionId","deviceImageName","requestResponse","submitRequest","phoneNumber","messageKey","error","message","requiredStar","className","children","_jsxFileName","lineNumber","columnNumber","div","initial","opacity","animate","variant","requestId","verificationCode","size","onClick","x","transition","duration","onSubmit","htmlFor","id","onChange","placeholder","required","onValueChange","map","code","model","condition","rows","accept","checked","disabled","isOpen","onClose","onSubmitPayment","_c","$RefreshReg$"],"sources":["/Users/almiskea/ipro/saytech-frontend/src/components/pages/RequestFormPage.jsx"],"sourcesContent":["import { useLanguage } from '../../App';\nimport { useState } from 'react';\nimport { motion } from 'framer-motion';\nimport { Card, CardHeader, CardTitle, CardDescription, CardContent } from '../common/ui-utils';\nimport { Input } from '../common/ui-utils';\nimport { Label } from '../common/ui-utils';\nimport { Textarea } from '../common/ui-utils';\nimport { Button } from '../common/ui-utils';\nimport { Alert, AlertTitle, AlertDescription } from '../common/ui-utils';\nimport api from '../../services/api'\nimport Select from '../common/Select/Select';\nimport SelectTrigger from '../common/Select/SelectTrigger';\nimport SelectValue from '../common/Select/SelectValue';\nimport SelectContent from '../common/Select/SelectContent';\nimport SelectItem from '../common/Select/SelectItem';\nimport { Loader2 } from 'lucide-react';\nimport { AnimatePresence } from 'framer-motion';\nimport Message from '../common/Message';\nimport { CheckCircle } from 'lucide-react';\nimport { cn } from '../../utils/helpers';\nimport PaymentModal from '../common/PaymentModel';\nimport { CreditCard } from 'lucide-react';\nimport AgreementModal from '../common/AgreementModel';\nimport { UploadCloud } from 'lucide-react';\n\n\nconst MOCK_SERVICE_FEE = 150; // Example service fee in SAR\n\nconst RequestFormPage = ({ navigateTo }) => {\n    const { t, language } = useLanguage();\n    const [currentStep, setCurrentStep] = useState('details');\n    const [formData, setFormData] = useState({\n        fullName: '', \n        countryCode: '+966', \n        localPhoneNumber: '', \n        email: '', \n        city: '',\n        region: '',\n        phoneModel: '', \n        previouslyRepaired: '', \n        deviceCondition: '',\n        issueDescription: '', \n        deviceImage: null, \n        paymentMethod: '',\n    });\n    const [isAgreementChecked, setIsAgreementChecked] = useState(false);\n    const [isAgreementModalOpen, setIsAgreementModalOpen] = useState(false);\n    const [formMessage, setFormMessage] = useState(null);\n    const [loading, setLoading] = useState(false);\n    const [fileName, setFileName] = useState('');\n    \n    const [isPaymentModalOpen, setIsPaymentModalOpen] = useState(false);\n    const [finalSubmissionInfo, setFinalSubmissionInfo] = useState(null);\n\n    const countryCodes = [\n        { value: '+966', label: 'ðŸ‡¸ðŸ‡¦ +966 (KSA)' },\n        { value: '+971', label: 'ðŸ‡¦ðŸ‡ª +971 (UAE)' },\n        { value: '+974', label: 'ðŸ‡¶ðŸ‡¦ +974 (Qatar)' },\n        { value: '+973', label: 'ðŸ‡§ðŸ‡­ +973 (Bahrain)' },\n        { value: '+968', label: 'ðŸ‡´ðŸ‡² +968 (Oman)' },\n        { value: '+965', label: 'ðŸ‡°ðŸ‡¼ +965 (Kuwait)' },\n    ];\n\n    const phoneModels = [\n        { value: 'iPhone X', label: 'iPhone X / XR / XS' },\n        { value: 'iPhone 11', label: 'iPhone 11 / Pro / Max' },\n        { value: 'iPhone 12', label: 'iPhone 12 / Mini / Pro / Max' },\n        { value: 'iPhone 13', label: 'iPhone 13 / Mini / Pro / Max' },\n        { value: 'iPhone 14', label: 'iPhone 14 / Plus / Pro / Max' },\n        { value: 'iPhone 15', label: 'iPhone 15 / Plus / Pro / Max' },\n        { value: 'iPhone SE (2nd Gen)', label: 'iPhone SE (2nd Gen)' },\n        { value: 'iPhone SE (3rd Gen)', label: 'iPhone SE (3rd Gen)' },\n        { value: 'Other', label: 'Other iPhone Model' },\n    ];\n\n    const deviceConditions = [\n        { value: 'fell_in_water', labelKey: 'conditionFellInWater' },\n        { value: 'physical_damage', labelKey: 'conditionPhysicalDamage' },\n        { value: 'no_power', labelKey: 'conditionNoPower' },\n        { value: 'screen_issue', labelKey: 'conditionScreenIssue' },\n        { value: 'battery_issue', labelKey: 'conditionBatteryIssue' },\n        { value: 'software_issue', labelKey: 'conditionSoftwareIssue' },\n        { value: 'other', labelKey: 'conditionOther' },\n    ];\n\n\n    const handleChange = (e) => {\n        const { name, value, files } = e.target;\n        if (name === \"deviceImage\") {\n            setFormData(prev => ({ ...prev, [name]: files ? files[0] : null }));\n            setFileName(files && files[0] ? files[0].name : \"\");\n        } else {\n            setFormData(prev => ({ ...prev, [name]: value }));\n        }\n    };\n    \n    const handleSelectChange = (name, value) => {\n        setFormData(prev => ({ ...prev, [name]: value }));\n    };\n\n    const handleProceedToPayment = async (e) => {\n        e.preventDefault();\n        setLoading(true);\n        setFormMessage(null);\n        \n        if (!isAgreementChecked) {\n            setFormMessage({ type: 'error', title: t('errorAgreementRequiredTitle'), text: t('errorAgreementRequiredText') });\n            setLoading(false);\n            return;\n        }\n\n        const requiredFields = ['fullName', 'countryCode', 'localPhoneNumber', 'email', 'city', 'region', 'phoneModel', 'previouslyRepaired', 'deviceCondition', 'issueDescription', 'deviceImage', 'paymentMethod'];\n        for (const field of requiredFields) {\n            if (!formData[field]) {\n                setFormMessage({ type: 'error', title: t('errorMissingInfoTitle'), text: t('errorMissingInfoText') });\n                setLoading(false);\n                return;\n            }\n        }\n\n        if (!/\\S+@\\S+\\.\\S+/.test(formData.email)) {\n            setFormMessage({ type: 'error', title: t('errorInvalidEmailTitle'), text: t('errorInvalidEmailText') });\n            setLoading(false);\n            return;\n        }\n        if (!/^\\d{7,15}$/.test(formData.localPhoneNumber)) { \n             setFormMessage({ type: 'error', title: t('errorInvalidPhoneTitle'), text: t('errorInvalidPhoneText') });\n            setLoading(false);\n            return;\n        }\n        setLoading(false);\n        setCurrentStep('payment');\n        setIsPaymentModalOpen(true);\n    };\n\n    const handlePaymentSubmit = async (paymentCardDetails) => {\n        try {\n            const fullPhoneNumber = formData.countryCode + formData.localPhoneNumber;\n            const paymentResult = await api.processPayment({\n                amount: MOCK_SERVICE_FEE,\n                paymentMethodType: formData.paymentMethod,\n                paymentDetails: formData.paymentMethod === 'creditCard' ? paymentCardDetails : null \n            });\n\n            if (paymentResult.success) {\n                const serviceRequestData = { \n                    ...formData, \n                    fullPhoneNumber: fullPhoneNumber, \n                    transactionId: paymentResult.transactionId,\n                    deviceImageName: formData.deviceImage ? formData.deviceImage.name : null\n                };\n                delete serviceRequestData.countryCode; \n                delete serviceRequestData.localPhoneNumber;\n                delete serviceRequestData.deviceImage; \n\n                const requestResponse = await api.submitRequest(serviceRequestData);\n                \n                setFinalSubmissionInfo({ \n                    ...requestResponse, \n                    transactionId: paymentResult.transactionId, \n                    phoneNumber: fullPhoneNumber \n                });\n                setCurrentStep('submitted');\n                setIsPaymentModalOpen(false);\n                setFormData({ \n                    fullName: '', countryCode: '+966', localPhoneNumber: '', email: '', city: '', region: '',\n                    phoneModel: '', previouslyRepaired: '', deviceCondition: '', issueDescription: '', \n                    deviceImage: null, paymentMethod: '' \n                });\n                setFileName('');\n                setIsAgreementChecked(false); // Reset agreement checkbox\n                return { success: true, messageKey: paymentResult.messageKey };\n            } else {\n                return { success: false, messageKey: paymentResult.messageKey };\n            }\n        } catch (error) {\n            setFormMessage({ type: 'error', title: t('submissionFailedTitle'), text: error.message || t('submissionFailedText') });\n            setIsPaymentModalOpen(false);\n            setCurrentStep('details');\n            return { success: false, messageKey: 'submissionFailedText' };\n        }\n    };\n    \n    const requiredStar = <span className=\"text-red-500\">{t('requiredFieldIndicator')}</span>;\n\n    if (currentStep === 'submitted' && finalSubmissionInfo) {\n        return (\n            <motion.div initial={{ opacity: 0 }} animate={{ opacity: 1 }} className=\"max-w-2xl mx-auto text-center\">\n                 <Message type=\"success\" title={t('requestSubmittedTitle')} message={t('requestSubmittedText')} />\n                 <Alert variant=\"success\" className=\"mt-6 text-left\">\n                    <CheckCircle className=\"h-5 w-5\" />\n                    <AlertTitle>{t('importantSaveInfoTitle')}</AlertTitle>\n                    <AlertDescription>\n                        <p className=\"mb-2\">{t('importantSaveInfoText')}</p>\n                        <ul className={cn(\"list-inside space-y-1 bg-green-100 p-3 rounded-md\", language === 'ar' ? 'list-disc text-right' : 'list-disc text-left')}>\n                            <li><strong>{t('requestIdLabel')}</strong> <span className=\"font-mono text-green-700\">{finalSubmissionInfo.requestId}</span></li>\n                            <li><strong>{t('verificationCodeLabel')}</strong> <span className=\"font-mono text-green-700\">{finalSubmissionInfo.verificationCode}</span></li>\n                            <li><strong>{t('transactionIdLabel')}</strong> <span className=\"font-mono text-green-700\">{finalSubmissionInfo.transactionId}</span></li>\n                        </ul>\n                        <p className=\"mt-3\">{t('contactWhatsAppText', {phoneNumber: finalSubmissionInfo.phoneNumber})}</p>\n                         <Button variant=\"outline\" size=\"sm\" className=\"mt-4\" onClick={() => navigateTo('status')}>{t('checkStatusNowButton')}</Button>\n                    </AlertDescription>\n                </Alert>\n            </motion.div>\n        );\n    }\n\n    return (\n        <motion.div\n            initial={{ opacity: 0, x: language === 'ar' ? 20 : -20 }}\n            animate={{ opacity: 1, x: 0 }}\n            transition={{ duration: 0.5 }}\n            className=\"space-y-8 max-w-2xl mx-auto\"\n        >\n            <div className=\"text-center\">\n                <h2 className=\"text-3xl font-bold text-gray-900\">{t('requestServiceTitle')}</h2>\n                <p className=\"text-gray-600 mt-2\">{t('requestServiceSubtitle')}</p>\n            </div>\n\n            <Card className=\"shadow-xl\">\n                <CardHeader>\n                    <CardTitle>{t('yourInformationTitle')}</CardTitle>\n                    <CardDescription>{t('yourInformationDescription')}</CardDescription>\n                </CardHeader>\n                <CardContent>\n                    <form onSubmit={handleProceedToPayment} className=\"space-y-6\">\n                        {/* Personal Info */}\n                        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n                            <div>\n                                <Label htmlFor=\"fullName\">{t('fullNameLabel')} {requiredStar}</Label>\n                                <Input id=\"fullName\" name=\"fullName\" value={formData.fullName} onChange={handleChange} placeholder={t('fullNamePlaceholder')} required className=\"mt-1\" />\n                            </div>\n                            <div>\n                                <Label htmlFor=\"email\">{t('emailLabel')} {requiredStar}</Label>\n                                <Input id=\"email\" name=\"email\" type=\"email\" value={formData.email} onChange={handleChange} placeholder={t('emailPlaceholder')} required className=\"mt-1\" />\n                            </div>\n                        </div>\n                        \n                        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4 items-end\">\n                            <div className=\"md:col-span-1\">\n                                <Label htmlFor=\"countryCode\">{t('countryCodeLabel')} {requiredStar}</Label>\n                                <Select onValueChange={(value) => handleSelectChange('countryCode', value)} value={formData.countryCode}>\n                                    <SelectTrigger className=\"mt-1 w-full\">\n                                        <SelectValue placeholder={t('countryCodePlaceholder')} />\n                                    </SelectTrigger>\n                                    <SelectContent>\n                                        {countryCodes.map(code => (\n                                            <SelectItem key={code.value} value={code.value}>{code.label}</SelectItem>\n                                        ))}\n                                    </SelectContent>\n                                </Select>\n                            </div>\n                            <div className=\"md:col-span-2\">\n                                <Label htmlFor=\"localPhoneNumber\">{t('localPhoneNumberLabel')} {requiredStar}</Label>\n                                <Input id=\"localPhoneNumber\" name=\"localPhoneNumber\" value={formData.localPhoneNumber} onChange={handleChange} placeholder={t('localPhoneNumberPlaceholder')} required className=\"mt-1\" />\n                            </div>\n                        </div>\n\n                        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n                             <div>\n                                <Label htmlFor=\"city\">{t('cityLabel')} {requiredStar}</Label>\n                                <Input id=\"city\" name=\"city\" value={formData.city} onChange={handleChange} placeholder={t('cityPlaceholder')} required className=\"mt-1\" />\n                            </div>\n                            <div>\n                                <Label htmlFor=\"region\">{t('regionLabel')} {requiredStar}</Label>\n                                <Input id=\"region\" name=\"region\" value={formData.region} onChange={handleChange} placeholder={t('regionPlaceholder')} required className=\"mt-1\" />\n                            </div>\n                        </div>\n\n                        {/* Device Info */}\n                        <div className=\"pt-4 border-t mt-6\">\n                            <h3 className=\"text-lg font-medium text-gray-800 mb-4\">{t('phoneModelLabel')} & {t('deviceConditionLabel')}</h3>\n                            <div className=\"space-y-6\">\n                                <div>\n                                    <Label htmlFor=\"phoneModel\">{t('phoneModelLabel')} {requiredStar}</Label>\n                                    <Select onValueChange={(value) => handleSelectChange('phoneModel', value)} value={formData.phoneModel}>\n                                        <SelectTrigger className=\"mt-1 w-full\">\n                                            <SelectValue placeholder={t('phoneModelSelectPlaceholder')} />\n                                        </SelectTrigger>\n                                        <SelectContent>\n                                            {phoneModels.map(model => (\n                                                <SelectItem key={model.value} value={model.value}>{model.label}</SelectItem>\n                                            ))}\n                                        </SelectContent>\n                                    </Select>\n                                </div>\n                                <div>\n                                    <Label htmlFor=\"previouslyRepaired\">{t('previouslyRepairedLabel')} {requiredStar}</Label>\n                                    <Select onValueChange={(value) => handleSelectChange('previouslyRepaired', value)} value={formData.previouslyRepaired}>\n                                        <SelectTrigger className=\"mt-1 w-full\">\n                                            <SelectValue placeholder={t('previouslyRepairedPlaceholder')} />\n                                        </SelectTrigger>\n                                        <SelectContent>\n                                            <SelectItem value=\"no\">{t('noOption')}</SelectItem>\n                                            <SelectItem value=\"yes\">{t('yesOption')}</SelectItem>\n                                        </SelectContent>\n                                    </Select>\n                                </div>\n                                <div>\n                                    <Label htmlFor=\"deviceCondition\">{t('deviceConditionLabel')} {requiredStar}</Label>\n                                    <Select onValueChange={(value) => handleSelectChange('deviceCondition', value)} value={formData.deviceCondition}>\n                                        <SelectTrigger className=\"mt-1 w-full\">\n                                            <SelectValue placeholder={t('deviceConditionPlaceholder')} />\n                                        </SelectTrigger>\n                                        <SelectContent>\n                                            {deviceConditions.map(condition => (\n                                                <SelectItem key={condition.value} value={condition.value}>{t(condition.labelKey)}</SelectItem>\n                                            ))}\n                                        </SelectContent>\n                                    </Select>\n                                </div>\n                            </div>\n                        </div>\n                        \n                        <div>\n                            <Label htmlFor=\"issueDescription\">{t('issueDescriptionLabel')} {requiredStar}</Label>\n                            <Textarea id=\"issueDescription\" name=\"issueDescription\" value={formData.issueDescription} onChange={handleChange} placeholder={t('issueDescriptionPlaceholder')} required className=\"mt-1\" rows={4} />\n                        </div>\n\n                        <div>\n                            <Label htmlFor=\"deviceImage\" className=\"flex items-center gap-2\">\n                                <UploadCloud className=\"w-5 h-5 text-gray-500\" />\n                                {t('deviceImageLabel')} {requiredStar}\n                            </Label>\n                            <Input \n                                id=\"deviceImage\" \n                                name=\"deviceImage\" \n                                type=\"file\" \n                                accept=\"image/*\" \n                                onChange={handleChange} \n                                required\n                                className=\"mt-1 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100\"\n                            />\n                            {fileName && <p className=\"text-xs text-gray-500 mt-1\">{t('fileNameLabel')} {fileName}</p>}\n                        </div>\n\n\n                        {/* Payment Method */}\n                        <div className=\"pt-4 border-t mt-6\">\n                             <Label htmlFor=\"paymentMethod\">{t('paymentMethodLabel')} {requiredStar}</Label>\n                            <Select onValueChange={(value) => handleSelectChange('paymentMethod', value)} value={formData.paymentMethod}>\n                                <SelectTrigger className=\"mt-1 w-full\">\n                                    <SelectValue placeholder={t('paymentMethodPlaceholder')} />\n                                </SelectTrigger>\n                                <SelectContent>\n                                    <SelectItem value=\"creditCard\">{t('paymentCreditCard')}</SelectItem>\n                                    <SelectItem value=\"mada\">{t('paymentMada')}</SelectItem>\n                                    <SelectItem value=\"stcpay\">{t('paymentSTCPay')}</SelectItem>\n                                    <SelectItem value=\"applePay\">{t('paymentApplePay')}</SelectItem>\n                                </SelectContent>\n                            </Select>\n                        </div>\n\n                        {/* Agreement Section */}\n                        <div className={cn(\"flex items-start mt-6 pt-6 border-t\", language === 'ar' ? 'space-x-reverse space-x-2' : 'space-x-2')}>\n                            <input\n                                type=\"checkbox\"\n                                id=\"agreement\"\n                                checked={isAgreementChecked}\n                                onChange={(e) => setIsAgreementChecked(e.target.checked)}\n                                className=\"h-5 w-5 text-blue-600 border-gray-300 rounded focus:ring-blue-500 flex-shrink-0\" \n                            />\n                            <Label htmlFor=\"agreement\" className=\"text-sm text-gray-700\">\n                                {t('agreementCheckboxLabel')}{' '}\n                                <button\n                                    type=\"button\"\n                                    onClick={() => setIsAgreementModalOpen(true)}\n                                    className=\"text-blue-600 hover:underline font-medium\"\n                                >\n                                    {t('viewAgreementLink')}\n                                </button>\n                            </Label>\n                        </div>\n                        \n                        <AnimatePresence>\n                            {formMessage && <Message type={formMessage.type} title={formMessage.title} message={formMessage.text} />}\n                        </AnimatePresence>\n\n                        <Button type=\"submit\" className=\"w-full text-lg py-3\" disabled={loading || !isAgreementChecked} size=\"lg\">\n                            {loading ? (\n                                <><Loader2 className={cn(\"h-5 w-5 animate-spin\", language === 'ar' ? 'ml-2' : 'mr-2')} /> {t('submittingButton')}</>\n                            ) : (\n                                <><CreditCard className={cn(\"h-5 w-5\", language === 'ar' ? 'ml-2' : 'mr-2')} /> {t('proceedToPaymentButton')}</>\n                            )}\n                        </Button>\n                    </form>\n                </CardContent>\n            </Card>\n            \n            <AnimatePresence>\n                {isPaymentModalOpen && (\n                    <PaymentModal \n                        isOpen={isPaymentModalOpen}\n                        onClose={() => { setIsPaymentModalOpen(false); setCurrentStep('details');}}\n                        amount={MOCK_SERVICE_FEE}\n                        onSubmitPayment={handlePaymentSubmit}\n                        paymentMethodType={formData.paymentMethod}\n                    />\n                )}\n                {isAgreementModalOpen && (\n                    <AgreementModal\n                        isOpen={isAgreementModalOpen}\n                        onClose={() => setIsAgreementModalOpen(false)}\n                    />\n                )}\n            </AnimatePresence>\n        </motion.div>\n    );\n};\n\nexport default RequestFormPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}